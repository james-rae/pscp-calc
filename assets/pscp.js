(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const A=(e,t)=>{t&&(Array.isArray(t)?e.classList.add(...t):e.classList.add(t))};class u{static applyClass(t,o){A(t,o)}static git(t){return document.getElementById(t)}static new(t,o="",s=void 0){const n=document.createElement(t);return n.id=o,A(n,s),n}static img(t,o="",s=void 0){const n=u.new("img",o,s);return n.src=t,n.draggable=!1,n}}const M=66580,C=1433,R=727,E=57375,L=(e,t,o,s,n,r)=>{let c=e*s;return e>t&&(c=c+(e-t)*(n-s),e>o&&(c=c+(e-o)*(r-n))),c},T=(e,t)=>{const n=L(e,E,114750,.15,.205,.26)+L(e,52886,105775,.0505,.0915,.1116);let r=16129,c=12747;t>64&&(r+=9028-Math.max(0,e-45522)*.15,c+=6223-Math.max(0,e-46330)*.15),t>64&&(r+=2e3,c+=1762);const f=r*.15+c*.0505;return Math.max(n-f,0)},y=(e,t,o)=>{const s=1+t*Math.min(5,Math.max(0,o-65));return e*s*12},v=e=>y(R,.072,e),B=(e,t)=>{const o=C*(Math.min(e,40)/40);if(t>=65)return y(o,.084,t);{const s=1-.072*(65-t);return o*s*12}},F=(e,t,o)=>{const s=o?60:65;let n=1;if(!(t>=s||e>=30&&t>=s-5)){let r;const c=s-t;if(t>=s-10&&e>=25){const f=s-5-t,a=30-e;r=Math.min(c,Math.max(f,a))}else r=c;n=1-r*.05}return n},N=(e,t)=>.00675*M*e*t,k=(e,t,o)=>(Math.min(t,M)*(.01375*e)+Math.max(t-M,0)*(.02*e))*o,S=80,G=e=>({age:e,CPP:0,OAS:0,pension:0,bridge:0,taxes:0,credits:0,gross:0,net:0,biweek:0}),H=(e,t,o,s,n,r,c)=>{let f=Math.floor(t);const a=Math.min(t-e,35),h=B(t-e,s),l=v(n),m=F(a,o,c),p=N(a,m),x=k(a,r,m),w=[];for(let d=f;d<=S;d++){const i=G(d);d>=s&&(i.CPP=h),d>=o&&(d<65&&(i.bridge=p),i.pension=x);const b=i.CPP+i.pension+i.bridge;if(d>=n){const P=l*(d>74?1.1:1),O=.15*Math.max(0,b+P-93454);i.OAS=Math.max(0,P-O)}i.gross=i.OAS+b,i.taxes=T(i.gross,d),i.net=i.gross-i.taxes,i.biweek=i.net/26,w.push(i)}return w},K=e=>{const t=Math.abs(e),o=e.toFixed(0);return t>999999?o.slice(0,-6)+","+o.slice(-6,-3)+","+o.slice(-3):t>999?o.slice(0,-3)+","+o.slice(-3):o},g=(e,t)=>{const o=u.git(e);return t?parseInt(o.value):parseFloat(o.value)},W=function(){const e=g("cpp",!0),t=g("oas",!0),o=g("pension",!0),s=g("empStart",!1),n=g("empEnd",!0),r=g("salary",!0),f=u.git("cohortA").checked,a=u.git("dataTable"),h=H(s,n,o,e,t,r,f);for(;a.rows.length>1;)a.deleteRow(-1);h.forEach(l=>{const m=a.insertRow(-1);[l.age,l.net,l.biweek,l.CPP,l.OAS,l.pension,l.bridge,l.gross,l.taxes].forEach(p=>{const x=m.insertCell();x.innerHTML=K(p)})})},$=()=>{const e=u.git("dataTable");let t="";for(let o=0,s;s=e.rows[o];o++){let n=[];for(let r=0;r<s.cells.length;r++)n.push(s.cells[r].innerHTML.replaceAll(",",""));t+=n.join("	")+`
`}navigator.clipboard.writeText(t)},q=u.git("cmdEnhance");q.onclick=W;const z=u.git("cmdExport");z.onclick=$;
